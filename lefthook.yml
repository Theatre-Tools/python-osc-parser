
pre-commit:
  parallel: true
  jobs:
    - name: lint
      glob:
        - "*.py"
      run: poetry run ruff check {staged_files} --fix
      stage_fixed: true
    - name: format
      glob:
        - "*.py"
      run: poetry run ruff format {staged_files}
      stage_fixed: true
    - name: type-check
      glob:
        - "*.py"
      run: poetry run pyright {staged_files}
